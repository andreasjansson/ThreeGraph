<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8" />
    <title>3dbands</title> 
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="Vector2d.js"></script>
    <script type="text/javascript" src="Vector3d.js"></script>
    <script type="text/javascript" src="View.js"></script>
    <script type="text/javascript" src="Controller.js"></script>
    <script type="text/javascript" src="Graph.js"></script>
    <script type="text/javascript" src="Vertex.js"></script>
    <script type="text/javascript" src="Edge.js"></script>
    <script type="text/javascript" src="Projection.js"></script>
    <script type="text/javascript" src="Reader.js"></script>
    <script type="text/javascript" src="Config.js"></script>
    <script type="text/javascript" src="my3d.js"></script>
    <script type="text/javascript" src="jquery-svg/jquery.svg.js"></script>

    <style type="text/css">@import "jquery-svg/jquery.svg.css";</style>
    <style type="text/css">@import "style.css";</style>
  </head>
  <body>
    <div id="loading">
      <div class="message">
        <img src="loadinfo.net.gif" />
        <p>Loading - Please wait</p>
      </div>
    </div>
    <div id="wrapper">
      <div id="canvas"></div>
    </div>
    <script type="text/javascript">

$(function() {

  window.controller;
  window.graph;

  var $canvas = $("#canvas");
  var loadedResources = 0;
  var resourcesToLoad = 2;

  window.view = new View($canvas, resourceLoaded);

  var reader = new Reader(
    "indices.json", "adjlist.json",
    "layout.json");

  reader.onLoad = function() {
    var vertices = reader.vertices;
    graph = new Graph(vertices);

    resourceLoaded();
  }

  function resourceLoaded() {
    if(++ loadedResources < resourcesToLoad)
      return;

    $("#loading").fadeOut();

    controller = new Controller(graph, view);
    controller.start();
  }

});

    </script>
  </body>
</html>
