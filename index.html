<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Rockstars</title> 
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/Vector2d.js"></script>
    <script type="text/javascript" src="js/Vector3d.js"></script>
    <script type="text/javascript" src="js/View.js"></script>
    <script type="text/javascript" src="js/Controller.js"></script>
    <script type="text/javascript" src="js/Graph.js"></script>
    <script type="text/javascript" src="js/GraphNode.js"></script>
    <script type="text/javascript" src="js/Edge.js"></script>
    <script type="text/javascript" src="js/Reader.js"></script>
    <script type="text/javascript" src="js/Config.js"></script>
    <script type="text/javascript" src="js/contrib.js"></script>
    <script type="text/javascript" src="js/three.js/build/Three.js"></script>
    <script type="text/javascript" src="js/GraphCamera.js"></script>
    <script type="text/javascript" src="js/MyDOMRenderer.js"></script>
    <script type="text/javascript" src="js/LineDOMMaterial.js"></script>
		<script type="text/javascript" src="js/three.js/examples/fonts/optimer_regular.typeface.js"></script>

    <link rel="stylesheet" type="text/css" href="css/style.css" />
  </head>
  <body>
    <div id="loading">
      <div class="message">
        <img src="images/loadinfo.net.gif" />
        <p>Loading - Please wait</p>
      </div>
    </div>
    <div id="wrapper">
      <div id="canvas"></div>
    </div>
    <script type="text/javascript">

$(function() {

  window.controller;
  window.graph;

  var $canvas = $("#canvas");
  var loadedResources = 0;
  var resourcesToLoad = 1;

  window.view = new View($canvas);

  var reader = new Reader(
    "data/indices.json", "data/adjlist.json",
    "data/layout.json");

  reader.onLoad = function() {
    var graphNodes = reader.graphNodes;
    graph = new Graph(graphNodes);

    resourceLoaded();
  }

  function resourceLoaded() {
    if(++ loadedResources < resourcesToLoad)
      return;

    $("#loading").fadeOut();

    controller = new Controller(graph, view);
    controller.start();
  }

});

    </script>
  </body>
</html>
